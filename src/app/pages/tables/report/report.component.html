<nb-card accent='success'>
  <nb-card-body>
    <h6 class="text-danger">Issue Information</h6>
    <hr>
    <div class="row">
      <div class="col-sm-4">
        <li><b>Process Type:</b> {{IssueData?.processType}}</li>
        <li><b>Issue Number:</b> {{IssueData?.issueNo}}</li>
        <li><b>Issue Title:</b> {{IssueData?.title}}</li>
        <li><b>Issue Status:</b> {{IssueData?.issueStatus}}</li>
      </div>
      <div class="col-sm-4">
        <li><b>Updated By:</b> {{IssueData?.createByName}}</li>
        <li><b>Auditor:</b> {{OBAData?.auditor}}</li>
        <li><b>Supervisor:</b> {{OBAData?.supervisor}}</li>
      </div>
      <div class="col-sm-4">
        <li><b>CAR No:</b> {{IssueData?.carNo}}</li>
        <li><b>Severity:</b> {{IssueData?.severity}}</li>
        <li><b>Repeat of Symptom:</b> {{IssueData?.repeatedSymptom}}</li>
        <li><b>Repeat of Cause:</b> {{IssueData?.repeatedCause}}</li>
      </div>
    </div>
  </nb-card-body>

  <nb-card-body>
    <h6 class="text-primary">D1. Team Formation</h6>
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col" style="width: 2rem;">#</th>
          <th scope="col">EmployeId</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col" style="width: 20rem;">Team</th>
          <th scope="col">Position</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let team of TeamList; let i = index">
          <th scope="row">{{i + 1}}</th>
          <td>{{team.empId}}</td>
          <td>{{team.name}}</td>
          <td>{{team.email}}</td>
          <td>{{team.team}}</td>
          <td>{{team.position}}</td>
        </tr>
      </tbody>
    </table>
    <!-- <div *ngFor="let caca of CacaList; let i = index">
      <div>
        <i>{{i + 1}}. {{caca.name}} - {{caca.team}} - {{caca.actionDate | date: 'yyyy/MM/dd HH:mm'}}</i>
      </div>
      <br>
    </div> -->
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D2. Problem Description</h6>
    <hr>
    <!-- Show detail product -->
    <br>
    <div class="row">
      <div class="col-sm-4">
        <li><b>1. Issue:</b><br>{{IssueDesc}}</li>
        <li><b>2. Product:</b> {{ProductData?.product}}</li>
        <li><b>3. Time detected:</b> {{OBAData?.detectingTime | date: 'yyyy/MM/dd HH:mm'}}</li>
        <li><b>4. Failure quantity:</b> {{OBAData?.ngphoneOrdinal}} </li>
        <li><b>5. Detect by OBA at phone:</b> {{OBAData?.detectBy}}</li>
        <li><b>6. PON:</b> {{ProductData?.ponno}}</li>
        <li><b>7. PON size:</b> {{ProductData?.ponsize}}</li>
      </div>
      <div class="col-sm-4">
        <li><b>8. Line:</b> {{ProductData?.line}}</li>
        <li><b>9. How to detect it?</b><br>
          {{OBAData?.howToDetect}}</li>
        <li><b>10. Failure validation:</b><br>
          {{OBAData?.failureValidate}}</li>
      </div>
      <div class="col-sm-4">
        <ngx-upload-file *ngIf="IssueID" [issueId]="IssueID" currentStep="OPEN" show="true">
        </ngx-upload-file>
      </div>
    </div>
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D3. Containment Action</h6>
    <hr>
    <div *ngFor="let caca of CacaList; let i = index">
      <div>
        <i>{{i + 1}}. {{caca.name}} - {{caca.team}} - {{caca.actionDate | date: 'yyyy/MM/dd HH:mm'}}</i>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-8">
          <nb-card>
            <ngx-tiny-mce-flat [rickText]="caca.actionContent" imageSize='auto'>
            </ngx-tiny-mce-flat>
          </nb-card>
        </div>
        <div class="col-sm-4">
          <ngx-upload-file *ngIf="IssueID" [issueId]="IssueID" currentStep="caca{{i}}" show="true">
          </ngx-upload-file>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D4. Cause Analysis</h6>
    <hr>
    <div *ngFor="let caca1 of Caca1List; let i = index">
      <div>
        <i>{{i + 1}}. {{caca1.name}} - {{caca1.team}} - {{caca1.actionDate | date: 'yyyy/MM/dd HH:mm'}}</i>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-8">
          <nb-card>
            <ngx-tiny-mce-flat [rickText]="caca1.actionContent" imageSize='auto'>
            </ngx-tiny-mce-flat>
          </nb-card>
        </div>
        <div class="col-sm-4">
          <ngx-upload-file *ngIf="IssueID" [issueId]="IssueID" currentStep="caca1{{i}}" show="true">
          </ngx-upload-file>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D5 & D6. Corrective & Preventive Action</h6>
    <hr>
    <div *ngFor="let capa of CapaList; let i = index">
      <div>
        <i>{{i + 1}}. {{capa.name}} - {{capa.team}} - {{capa.actionDate | date: 'yyyy/MM/dd HH:mm'}}</i>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-8">
          <nb-card>
            <ngx-tiny-mce-flat [rickText]="capa.actionContent" imageSize='auto'>
            </ngx-tiny-mce-flat>
          </nb-card>
        </div>
        <div class="col-sm-4">
          <ngx-upload-file *ngIf="IssueID" [issueId]="IssueID" currentStep="capa{{i}}" show="true">
          </ngx-upload-file>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D7. Verification</h6>
    <hr>
    <div *ngFor="let close of CloseList; let i = index">
      <div>
        <i>{{i + 1}}. {{close.name}} - {{close.team}} - {{close.actionDate | date: 'yyyy/MM/dd HH:mm'}}</i>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-8">
          <nb-card>
            <ngx-tiny-mce-flat [rickText]="close.actionContent" imageSize='auto'>
            </ngx-tiny-mce-flat>
          </nb-card>
        </div>
        <div class="col-sm-4">
          <ngx-upload-file *ngIf="IssueID" [issueId]="IssueID" currentStep="close{{i}}" show="true">
          </ngx-upload-file>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card-body>
    <h6 class="text-primary">D8. Approval & Confirm</h6>
    <hr>
    <div>
      .....
    </div>
  </nb-card-body>
</nb-card>